components:
  schemas:
    # User:
    #   type: object
    #   properties:
    #     id:
    #       type: string
    #     email:
    #       type: string
    #       format: email
    #     name:
    #       type: string
    #     role:
    #       type: string
    #       enum: [user, admin]
    #   example:
    #     id: 5ebac534954b54139806c112
    #     email: fake@example.com
    #     name: fake name
    #     role: user

    CodigoPostal:
      type: object
      properties:
        ruas:
          type: array
        cod_localidade:
          type: string
        nome_localidade:
          type: string
        num_cod_postal:
          type: string
        ext_cod_postal:
          type: string
        desig_postal:
          type: string
        concelho:
          type: array
        distrito:
          type: array
        id:
          type: string
      example:
        ruas: [
          "Rua da Quinta do Feital"
        ]
        cod_localidade: "9514"
        nome_localidade: "Braga"
        num_cod_postal: "4700"
        ext_cod_postal: "110"
        desig_postal: "BRAGA"
        concelho: [
          {
            _id: "6283a9dcf4bd1520c17b7e8c",
            cod_concelho: "03",
            nome_concelho: "Braga"
          }
        ]
        distrito: [
          {
            _id: "6283aa16f4bd1520c17b8052",
            cod_distrito: "03",
            nome_distrito: "Braga"
          }
        ]
        id: "62851b177ebbde58104f3f3d"

    # Token:
    #   type: object
    #   properties:
    #     token:
    #       type: string
    #     expires:
    #       type: string
    #       format: date-time
    #   example:
    #     token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1ZWJhYzUzNDk1NGI1NDEzOTgwNmMxMTIiLCJpYXQiOjE1ODkyOTg0ODQsImV4cCI6MTU4OTMwMDI4NH0.m1U63blB0MLej_WfB7yC2FTMnCziif9X8yzwDEfJXAg
    #     expires: 2020-05-12T16:18:04.793Z

    # AuthTokens:
    #   type: object
    #   properties:
    #     access:
    #       $ref: '#/components/schemas/Token'
    #     refresh:
    #       $ref: '#/components/schemas/Token'

    Error:
      type: object
      properties:
        code:
          type: number
        message:
          type: string

  responses:
    DuplicateEmail:
      description: Email already taken
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 400
            message: Email already taken
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 401
            message: Please authenticate
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 403
            message: Forbidden
    NotFound:
      description: Not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            code: 404
            message: Not found

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
